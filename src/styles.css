:root{
  --bg:#0f1114; --panel:#171a1f; --muted:#8992a1; --text:#e6e9ef; --brand:#ff8a00;
  --brand-2:#22c55e; --danger:#ef4444; --warn:#eab308; --border:#262b33; --chip:#1f232b;
  --radius:14px; --shadow:0 10px 30px rgba(0,0,0,.35);
}
*{box-sizing:border-box} html,body,#root{height:100%}
body{margin:0; font-family:Inter, system-ui, Segoe UI, Roboto, Arial, sans-serif; background:radial-gradient(1200px 600px at 20% -10%, rgba(255,138,0,.08), transparent 60%), var(--bg); color:var(--text)}
.app{display:grid; grid-template-columns:280px 1fr; min-height:100vh}
aside{position:sticky; top:0; padding:22px 18px; border-right:1px solid var(--border); background:linear-gradient(180deg, rgba(255,138,0,.06), transparent 30%), var(--panel)}
.logo{display:flex; gap:10px; align-items:center; font-weight:700; letter-spacing:.5px; margin-bottom:18px}
.logo-badge{width:34px;height:34px;border-radius:8px;background:conic-gradient(from 180deg at 50% 50%, var(--brand), #ffb454 40%, #3b82f6 70%, var(--brand)); box-shadow:0 8px 20px rgba(255,138,0,.25), inset 0 0 0 2px rgba(255,255,255,.05)}
.side-section{margin-top:22px}
.side-title{font-size:.82rem; color:var(--muted); text-transform:uppercase; letter-spacing:.12em; margin:14px 10px}
.nav{display:flex; flex-direction:column; gap:6px}
.nav a{display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:10px; color:inherit; text-decoration:none; border:1px solid transparent}
.nav a:hover{background:#1a1f26; border-color:var(--border)}
.nav a.active{background:#11161c; border-color:#2b313b; outline:1px solid #2b313b}
header{position:sticky; top:0; z-index:5; display:flex; gap:14px; align-items:center; justify-content:space-between; padding:16px 22px; border-bottom:1px solid var(--border); background:linear-gradient(180deg, rgba(15,17,20,.85), rgba(15,17,20,.7)); backdrop-filter:saturate(1.1) blur(8px)}
.search{display:flex; align-items:center; gap:10px; flex:1; max-width:700px; background:#12161b; border:1px solid var(--border); border-radius:12px; padding:10px 12px}
.search input{flex:1; background:transparent; border:0; color:var(--text); font-size:.95rem; outline:none}
.btn{background:var(--brand); color:#111; font-weight:700; border:0; border-radius:12px; padding:10px 14px; cursor:pointer; box-shadow:0 8px 20px rgba(255,138,0,.25)}
.btn.ghost{background:#151a1f; color:var(--text); border:1px solid var(--border); box-shadow:none}
main{padding:22px}
.card{background:var(--panel); border:1px solid var(--border); border-radius:var(--radius); padding:16px; box-shadow:var(--shadow)}
.grid{display:grid; gap:16px}
.grid.cols-3{grid-template-columns: repeat(3, 1fr)}
@media (max-width:1100px){.app{grid-template-columns: 80px 1fr} .hide-compact{display:none} .grid.cols-3{grid-template-columns:1fr}}
.object-list{display:grid; grid-template-columns:repeat(3, 1fr); gap:14px}
@media (max-width:1200px){.object-list{grid-template-columns:1fr}}
.status{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; border:1px solid var(--border); font-size:.8rem}
.status.green{background:rgba(34,197,94,.1); color:#86efac; border-color:rgba(34,197,94,.3)}
.status.red{background:rgba(239,68,68,.1); color:#fecaca; border-color:rgba(239,68,68,.3)}
.pill{padding:4px 10px; border-radius:999px; background:#1a2130; border:1px solid #2b313b; font-size:.8rem; color:#cbd5e1}
.status-planned{background:#fef3c7; color:#92400e; border-color:#f59e0b}
.status-in_progress{background:#dbeafe; color:#1e40af; border-color:#3b82f6}
.status-done{background:#d1fae5; color:#065f46; border-color:#10b981}

/* Ограничиваем z-index Leaflet карты */
.leaflet-container { z-index: 1 !important; }
.leaflet-control-container { z-index: 2 !important; }
.leaflet-popup { z-index: 3 !important; }

/* Скрываем атрибуцию Leaflet */
.leaflet-control-attribution { display: none !important; }

/* Стили для уведомлений */
.list { display: flex; flex-direction: column; gap: 12px; }
.unread { position: relative; }

/* Стили для чекбоксов */
input[type="checkbox"] {
  appearance: none;
  width: 18px;
  height: 18px;
  border: 2px solid var(--border);
  border-radius: 4px;
  background: var(--bg);
  cursor: pointer;
  position: relative;
  transition: all 0.2s ease;
}

input[type="checkbox"]:checked {
  background: var(--brand);
  border-color: var(--brand);
}

input[type="checkbox"]:checked::after {
  content: '✓';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: white;
  font-size: 12px;
  font-weight: bold;
}

input[type="checkbox"]:hover {
  border-color: var(--brand);
}

/* Стили для полей ввода */
input[type="text"], input[type="url"], textarea {
  color: var(--text) !important;
  background: var(--bg) !important;
  border: 1px solid var(--border) !important;
}

input[type="text"]:focus, input[type="url"]:focus, textarea:focus {
  outline: none;
  border-color: var(--brand) !important;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
}
.leaflet-attribution-flag { display: none !important; }
.table{width:100%; border-collapse:separate; border-spacing:0 8px}
.table th{color:var(--muted); font-weight:600; text-align:left; padding:8px 10px}
.table td{background:#11161c; border:1px solid #2b313b; border-left:0; border-right:0; padding:10px}
.progress{height:10px; background:#0d0f12; border:1px solid var(--border); border-radius:999px; overflow:hidden}
.progress > span{display:block; height:100%; background:linear-gradient(90deg, #ff8a00, #ffb454)}
.form{display:grid; gap:12px}
.input{background:#12161b; border:1px solid var(--border); border-radius:10px; padding:10px 12px; color:var(--text)}
.row{display:flex; gap:10px; align-items:center}
.modal-backdrop{position:fixed; inset:0; background:rgba(0,0,0,.5); display:flex; align-items:center; justify-content:center}
.modal{background:var(--panel); border:1px solid var(--border); border-radius:14px; padding:16px; width:min(520px, 92vw)}
.link{color:#93c5fd; text-decoration:none}

.profile-link:hover {
  background: var(--bg-hover) !important;
  border-color: var(--brand) !important;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.profile-link.logout:hover {
  background: var(--bg-hover) !important;
  border-color: var(--red) !important;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
}
